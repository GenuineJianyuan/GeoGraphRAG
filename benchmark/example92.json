{
    "query": "Replace snow-covered pixels with snow-free pixels using conditional replacement",
    "datasource": [
        "Landsat8 TOA"
    ],
    "raw_code": "// GEO717 - Introduction to Earth Engine - Image - Operations - Conditional - Task\n\n/*\nTask: Replace the snow covered pixels from one image with the snow free pixel from the other image\nThreshold the NDSI at 0.35 to identify snow covered pixel\nSeperate water from snow using the NIR reflectance at 0.2\nReplace the snow pixels using the \".where()\" function\n*/\n\n\n// Load two Landsat 8 images, one with and one without snow cover.\nvar snow_free = ee.Image('LANDSAT/LC08/C02/T1_TOA/LC08_198030_20171011')\nvar snow_cover = ee.Image('LANDSAT/LC08/C02/T1_TOA/LC08_198030_20170317')\nprint(snow_cover)\n\nvar ndsi = snow_cover.normalizedDifference(['B3', 'B6']);\nvar boolsnow = snow_cover.select('B5').gt(0.2)\nvar boolndsi = ndsi.gt(0.35)\n\nvar replaced = snow_cover.where(boolsnow.eq(1) && boolndsi.eq(1), snow_free);\n// Define the visualization parameters.\nvar vizParams = {\n  bands: ['B7', 'B5', 'B3'],\n  min: 0.05,\n  max: 0.3,\n};\n\n// Center the map and display the image.\nMap.centerObject(snow_free, 8); // Pyrenees, France\n\nMap.addLayer(snow_free, vizParams, 'snow_free', true);\nMap.addLayer(snow_cover, vizParams, 'snow_free', true);\nMap.addLayer(replaced, vizParams, 'snow_cover', true);\nMap.addLayer(boolndsi, {}, 'boolndsi', true);\nMap.addLayer(boolsnow, {}, 'boolsnow', true);",
    "api": [
        "ee.Image.normalizedDifference",
        "ee.Image.select",
        "ee.Image.gt",
        "ee.Image.where",
        "Map.centerObject",
        "Map.addLayer"
    ],
    "processing step": [
        "Load two Landsat 8 images: one snow-free, one snow-covered.",
        "Calculate NDSI to identify snow-covered pixels.",
        "Threshold NIR reflectance to separate water from snow.",
        "Create boolean masks for snow and water.",
        "Replace snow pixels with snow-free pixels using `.where()`.",
        "Define visualization parameters for image display.",
        "Center map and add layers to visualize results."
    ],
    "output": "Raster of snow-replaced Landsat imagery."
}